import"./form";jQuery(document).ready(function(){jQuery("body.fes-form-fe").frontendsubmissionform(),jQuery(document).trigger("fes.ready")}),function(e,s,t,i){"use strict";var a="frontendsubmissionform";function n(s,t){this.element=s,this.$el=e(this.element),this.$data=new FormData,this.init()}e.extend(n.prototype,{init:function(){this.attachEvents()},attachEvents:function(){var s=this;this.$el.on("submit",".fes-post-form",function(t){t.preventDefault(),e(this).find(".sui-loader").addClass("sui-loading"),s.$data=new FormData(this),s.submitPost(this)}),e("#fe-post-image").change(function(){s.fileUpload(this)})},submitPost:function(t){var i=this;e.ajax({url:s.ajaxurl,type:"POST",data:this.$data,cache:!1,contentType:!1,processData:!1}).done(function(s){!1===s.success?(e(i).find(".error-message").append(s.data.message),e("#submit-post-fe").find(".sui-loader").removeClass("sui-loading"),s.data.fields&&e.each(s.data.fields,function(t,i){e("#"+i+"-error").append(s.data.fields_message),e("#"+i+"-error").show(),e("."+i).addClass("sui-form-field-error")})):!0===s.success&&(e("#submit-post-fe").find(".sui-loader").removeClass("sui-loading"),e(".fes-post-form").hide(),e(".fes-success-message").fadeIn(650),e("#sui-content")[0].scrollIntoView())})},fileUpload:function(s){if(s.files&&s.files[0]){var t=new FileReader;t.onload=function(s){e("#imagePreview").css("background-image","url("+s.target.result+")"),e("#imagePreview").hide(),e("#imagePreview").fadeIn(650)},t.readAsDataURL(s.files[0])}}}),e.fn[a]=function(s){return this.each(function(){e.data(this,a)||e.data(this,a,new n(this,s))})}}(jQuery,window,document);