import"./form";jQuery(document).ready(function(){jQuery("body.fes-form-fe").frontendsubmissionform(),jQuery(document).trigger("fes.ready")}),function(e,t,i,a){"use strict";var s="frontendsubmissionform";function n(t,i){this.element=t,this.$el=e(this.element),this.$data=new FormData,this.init()}e.extend(n.prototype,{init:function(){this.attachEvents()},attachEvents:function(){var t=this;this.$el.on("submit",".fes-post-form",function(e){e.preventDefault(),t.$data=new FormData(this),t.submitPost(this)}),e("#fe-post-image").change(function(){t.fileUpload(this)})},submitPost:function(i){var a=this;e.ajax({url:t.ajaxurl,type:"POST",data:this.$data,cache:!1,contentType:!1,processData:!1}).done(function(t){!1===t.success?(e(a).find(".error-message").append(t.data.message),t.data.fields&&e.each(t.data.fields,function(i,a){e("#"+a+"-error").append(t.data.fields_message),e("#"+a+"-error").show(),e("."+a).addClass("sui-form-field-error")})):!0===t.success&&console.log(t)})},fileUpload:function(t){if(t.files&&t.files[0]){var i=new FileReader;i.onload=function(t){e("#imagePreview").css("background-image","url("+t.target.result+")"),e("#imagePreview").hide(),e("#imagePreview").fadeIn(650)},i.readAsDataURL(t.files[0])}}}),e.fn[s]=function(t){return this.each(function(){e.data(this,s)||e.data(this,s,new n(this,t))})}}(jQuery,window,document);